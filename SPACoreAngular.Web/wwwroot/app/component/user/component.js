"use strict";var __decorate=this&&this.__decorate||function(e,r,t,o){var s,i=arguments.length,n=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,o);else for(var a=e.length-1;0<=a;a--)(s=e[a])&&(n=(i<3?s(n):3<i?s(r,t,n):s(r,t))||n);return 3<i&&n&&Object.defineProperty(r,t,n),n},__metadata=this&&this.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),forms_1=require("@angular/forms"),service_1=require("./service"),UserComponent=function(){function e(e,r){this.formBuilder=e,this.userService=r}return e.prototype.ngOnInit=function(){this.userForm=this.formBuilder.group({id:0,firstName:new forms_1.FormControl("",forms_1.Validators.required),lastName:new forms_1.FormControl("",forms_1.Validators.required),email:new forms_1.FormControl("",forms_1.Validators.compose([forms_1.Validators.required,forms_1.Validators.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),phone:new forms_1.FormControl("",forms_1.Validators.required)}),this.getAll()},e.prototype.onSubmit=function(){this.userForm.invalid},e.prototype.getAll=function(){var r=this;this.userService.getall().subscribe(function(e){r.users=e},function(e){console.log(e)})},e.prototype.edit=function(e,r){var t=this;e.preventDefault(),this.userService.getByID(r.id).subscribe(function(e){t.user=e,t.userForm.setValue({id:t.user.id,firstName:t.user.firstName,lastName:t.user.lastName,email:t.user.email,phone:t.user.phone})},function(e){console.log(e)})},e.prototype.save=function(){var r=this;this.userService.save(this.userForm.value).subscribe(function(e){r.resmessage=e,r.getAll(),r.reset()},function(e){console.log(e)})},e.prototype.delete=function(e,r){var t=this;e.preventDefault(),confirm("You are about to delete "+r.firstName+". Are you sure?")&&this.userService.delete(r.id).subscribe(function(e){t.resmessage=e,t.getAll()},function(e){console.log(e)})},e.prototype.reset=function(){this.userForm.setValue({id:0,firstName:null,lastName:null,email:null,phone:null})},e=__decorate([core_1.Component({selector:"user",templateUrl:"./app/component/user/user.html",providers:[service_1.UserService]}),__metadata("design:paramtypes",[forms_1.FormBuilder,service_1.UserService])],e)}();exports.UserComponent=UserComponent;